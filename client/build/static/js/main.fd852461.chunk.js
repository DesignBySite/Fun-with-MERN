(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={List:"List_List__1OV6k",Item:"List_Item__QM_7r",ItemPreview:"List_ItemPreview__3VWeO",ItemInfoPreview:"List_ItemInfoPreview__VOr8l",Title:"List_Title__3vjnM",BlogEditControlContainer:"List_BlogEditControlContainer__1Bilj",EditBtn:"List_EditBtn__2fWIe",DeleteBtn:"List_DeleteBtn__2mRki",Image:"List_Image__3niZt"}},13:function(e,t,a){e.exports={InputField:"Users_InputField__2fAYz",InputGrid:"Users_InputGrid__wpwIc",InputLabel:"Users_InputLabel__3p_iI",SignIn:"Users_SignIn__zk97K",Title:"Users_Title__2Ta2M"}},14:function(e,t,a){e.exports={BlogPostHolder:"CreateBlog_BlogPostHolder__20R6Q",BlogPostForm:"CreateBlog_BlogPostForm__2GEBG",BlogPostInput:"CreateBlog_BlogPostInput__u21a-",BlogPostSubmitHolder:"CreateBlog_BlogPostSubmitHolder__25uxc",BlogPostBtn:"CreateBlog_BlogPostBtn__1-y2a"}},16:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__36Ybt",OptionBtns:"Navbar_OptionBtns__3uZ-T",NavbarBtn:"Navbar_NavbarBtn__2S-xU",NavbarBtnName:"Navbar_NavbarBtnName__3M5hk",homeBtn:"Navbar_homeBtn__3Nr-Y"}},17:function(e,t,a){e.exports={Container:"BlogHolder_Container__3po41",BlogContainer:"BlogHolder_BlogContainer__qEtDd",BlogBodyContainer:"BlogHolder_BlogBodyContainer__2akxE",BlogBody:"BlogHolder_BlogBody__3ASdd",Title:"BlogHolder_Title__2Zq6J",ImageContainer:"BlogHolder_ImageContainer__33HHr",Image:"BlogHolder_Image__35gu6"}},22:function(e,t,a){e.exports={HomepageContainer:"Home_HomepageContainer__2ZVZv",HomepageText:"Home_HomepageText__2Kq1A",TopContainer:"Home_TopContainer__3LYYQ"}},26:function(e,t,a){e.exports={FooterContainer:"Footer_FooterContainer__35wjp",CopyRight:"Footer_CopyRight__W9wir"}},31:function(e,t,a){},32:function(e,t,a){e.exports={BodyHOC:"BodyHOC_BodyHOC__2vrCJ"}},37:function(e,t,a){e.exports=a(51)},42:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),l=a(9),s=(a(42),a(19)),c=a.n(s),i=a(21),u=a(2),m=a(3),p=a(5),d=a(4),g=a(6),h=a(15),f=a(31),b=a.n(f),v=a(32),_=a.n(v),E=function(e){return r.a.createElement("div",Object.assign({className:_.a.BodyHOC},e),e.children)},B=a(22),N=a.n(B),I=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.user?this.props.user:null;return r.a.createElement(E,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:N.a.HomepageContainer},r.a.createElement("div",{className:N.a.TopContainer},r.a.createElement("h1",null,"Welcome to my blog ",e)),r.a.createElement("div",{className:N.a.HomepageText},r.a.createElement("p",null,"This is a blog I built from scratch as a prototype to leverage in my freelance projects. A few friends have asked for the blog to be created for their own small businesses and reached out to me to create one for them."),r.a.createElement("p",null,"I could try to think of more to say to fill up space, but I can't so look around and enjoy!")))))}}]),t}(n.Component),y=a(12),C=a.n(y),O=function e(){Object(u.a)(this,e),this.getList=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("list service provider"),e.next=4,fetch("/api/blog/all",{mode:"cors",headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*"}}).then(function(e){return e.json()});case 4:return t=e.sent,e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))},j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).deletePostHandler=function(e){console.log(e),fetch("/api/blog/delete/".concat(e),{method:"GET"}).then(function(e){return e.json()}).then(function(e){return a.setState({list:e})})},a.isUserAdminHandler=function(e){if("Admin"===a.props.userType)return console.log(e),r.a.createElement("div",{className:C.a.BlogEditControlContainer},r.a.createElement("button",{className:C.a.EditBtn},"Edit"),r.a.createElement("button",{className:C.a.DeleteBtn,onClick:function(){return a.deletePostHandler(e._id)}},"Delete"));console.log("not Admin")},a.state={list:[]},a.ListServicesProvider=new O,a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.ListServicesProvider.getList().then(function(t){return e.setState({list:t})})}},{key:"componentDidUpdate",value:function(e){console.log(e,this.state)}},{key:"render",value:function(){var e=this;return console.log(this.state.list),r.a.createElement(E,null,r.a.createElement("div",{className:"App"},this.state.list.length?r.a.createElement("div",{className:C.a.List},this.state.list.map(function(t){return console.log("./blog-".concat(t._id)),r.a.createElement("div",{className:C.a.Item,key:t._id},r.a.createElement(l.b,{className:C.a.ItemPreview,to:"./blog-".concat(t._id),onClick:function(){return e.props.goToBlogClick(t._id)}},r.a.createElement("img",{className:C.a.Image,src:t.image,alt:t.name}),r.a.createElement("div",{className:C.a.ItemInfoPreview},r.a.createElement("p",{className:C.a.Title},t.name),r.a.createElement("p",null,t.body))),e.isUserAdminHandler(t))})):r.a.createElement("div",null,r.a.createElement("h2",null,"No List items found"))))}}]),t}(n.Component),w=a(13),P=a.n(w),k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).user=null,a.pass=null,a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.auth&&this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement(E,null,r.a.createElement("div",{className:P.a.Title},r.a.createElement("h1",null,"Please Sign In")),r.a.createElement("div",{className:P.a.InputGrid},r.a.createElement("div",{className:P.a.InputField},r.a.createElement("label",{className:P.a.InputLabel},"Username"),r.a.createElement("input",{defaultValue:this.user,onChange:function(t){e.user=t.target.value},id:"userName",className:P.a.InputInput,type:"text"})),r.a.createElement("div",{className:P.a.InputField},r.a.createElement("label",{className:P.a.InputLabel},"Password"),r.a.createElement("input",{defaultValue:this.pass,onChange:function(t){e.pass=t.target.value},id:"password",className:P.a.InputInput,type:"text"})),r.a.createElement("button",{onClick:function(){return e.props.click(e.user,e.pass)},className:P.a.SignIn},"Sign in")))}}]),t}(n.Component),H=Object(h.f)(k),S=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Contact")}}]),t}(r.a.Component),T=a(16),x=a.n(T),L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).create=function(){fetch("/api/user/create",{method:"POST"}).then(function(e){return console.log(e)})},a.name=e.userName,a.auth=e.auth,a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:x.a.Navbar},r.a.createElement("div",{className:x.a.homeBtn},r.a.createElement(l.b,{to:"./"},r.a.createElement("button",{className:x.a.NavbarBtn},"home"))),r.a.createElement("div",{className:x.a.OptionBtns},r.a.createElement(l.b,{to:"./list"},r.a.createElement("button",{className:x.a.NavbarBtn},"My blogs")),r.a.createElement(l.b,{to:"./create-new-blog"},r.a.createElement("button",{className:x.a.NavbarBtn},"Create")),r.a.createElement(l.b,{to:"./users"},r.a.createElement("button",{className:x.a.NavbarBtn},"Sign in"))))}}]),t}(n.Component),A=a(14),F=a.n(A),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).createNewBlog=function(e,t,n,r,o){if(null==(a.state.name||a.state.image||a.state.description))return console.log(a.state.name,a.state.image,a.state.description),void console.log("is null");fetch("/api/blog/create",{method:"POST",body:JSON.stringify({name:e,image:t,authorImg:n,author:r,body:o}),headers:{"Content-Type":"application/json"}}).then(function(e){200===e.status&&(a.setState({success:!0}),console.log(a.state.success,e.status))})},a.state={name:null,image:null,authorImg:null,author:null,description:null,success:!1,successMsg:r.a.createElement("p",null,"Post was successfully created")},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E,null,r.a.createElement("div",{className:F.a.BlogPostHolder},r.a.createElement("div",{className:F.a.BlogPostForm},r.a.createElement("div",{className:F.a.BlogPostInput},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",onChange:function(t){e.setState({name:t.target.value})}})),r.a.createElement("div",{className:F.a.BlogPostInput},r.a.createElement("label",null,"Image"),r.a.createElement("input",{type:"text",onChange:function(t){e.setState({image:t.target.value})}})),r.a.createElement("div",{className:F.a.BlogPostInput},r.a.createElement("label",null,"Author Image"),r.a.createElement("input",{type:"text",onChange:function(t){e.setState({authorImg:t.target.value})}})),r.a.createElement("div",{className:F.a.BlogPostInput},r.a.createElement("label",null,"Author"),r.a.createElement("input",{type:"text",onChange:function(t){e.setState({author:t.target.value})}})),r.a.createElement("div",{className:F.a.BlogPostInput},r.a.createElement("label",null,"Body"),r.a.createElement("textarea",{type:"text",onChange:function(t){e.setState({description:t.target.value})}})),r.a.createElement("div",{className:F.a.BlogPostSubmitHolder},r.a.createElement("button",{className:F.a.BlogPostBtn,onClick:function(){return e.createNewBlog(e.state.name,e.state.image,e.state.authorImg,e.state.author,e.state.description)}},"Submit"),this.state.success?this.state.successMsg:null))))}}]),t}(n.Component),U=Object(h.f)(D),M=a(17),Y=a.n(M),G=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props=a.props,a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement(E,null,r.a.createElement("div",{className:Y.a.Container},r.a.createElement("div",{className:Y.a.BlogContainer},r.a.createElement("div",{className:Y.a.ImageContainer},r.a.createElement("img",{className:Y.a.Image,src:this.props.image,alt:this.props.title})),r.a.createElement("div",{className:Y.a.BlogBodyContainer},r.a.createElement("h1",{className:Y.a.Title},this.props.title),r.a.createElement("div",null,r.a.createElement("p",null,this.props.description))))))}}]),t}(n.Component),R=a(26),V=a.n(R),J=a(35),Z=a(36),W=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).setCopyrightYear=function(){if(2019!==(new Date).getFullYear())return" - ".concat((new Date).getFullYear())},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.setCopyrightYear();return r.a.createElement("footer",{className:V.a.FooterContainer},r.a.createElement("div",null),r.a.createElement("div",null,"Info about Owner"),r.a.createElement("div",{className:V.a.CopyRight},r.a.createElement(J.a,{icon:Z.a}),r.a.createElement("p",null,"2019",e)))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).signInHandler=function(){var e=Object(i.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/sign-in/".concat(t,"/").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return a.setState({user:e[0].first_name,userType:e[0].userType,userAuth:!0})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),a.createUserHandler=function(){fetch("/api/user/create",{method:"POST"})},a.getListItem=function(e){console.log("called"),a.state.list.forEach(function(t){console.log(t),t._id===e&&a.setState({listItem:t},function(){return console.log(a.state.listItem)})})},a.state={user:null,userType:null,userAuth:!1,list:[],listItem:{_id:"",name:"",image:"",body:""}},a.ListServicesProvider=new O,a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.ListServicesProvider.getList().then(function(t){return e.setState({list:t})})}},{key:"newBlogAdded",value:function(){var e=this;this.ListServicesProvider.getList().then(function(t){return e.setState({list:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.c,null,r.a.createElement(function(){return r.a.createElement("div",null,r.a.createElement(L,{userName:e.state.user}),r.a.createElement("div",{className:b.a.RouteDisplayBody},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(I,{user:e.state.user})}}),r.a.createElement(h.a,{path:"/list",render:function(){return r.a.createElement(j,{goToBlogClick:e.getListItem,userType:e.state.userType})}}),r.a.createElement(h.a,{path:"/users",render:function(){return r.a.createElement(H,{auth:e.state.userAuth,click:e.signInHandler})}}),r.a.createElement(h.a,{path:"/create-new-blog",render:function(){return r.a.createElement(U,{auth:e.state.userAuth,click:function(){return e.newBlogAdded()}})}}),r.a.createElement(h.a,{path:"/contact",component:S}),r.a.createElement(h.a,{path:"/blog-".concat(e.state.listItem._id),render:function(){return r.a.createElement(G,{title:e.state.listItem.name,image:e.state.listItem.image,description:e.state.listItem.body})}}))),r.a.createElement(W,null))},null))}}]),t}(n.Component);Object(o.render)(r.a.createElement(l.a,null,r.a.createElement(q,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.fd852461.chunk.js.map